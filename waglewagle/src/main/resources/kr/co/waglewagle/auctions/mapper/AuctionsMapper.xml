<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.waglewagle.auctions.mapper.AuctionsMapper">
	
	<select id="checkAuctionIng" parameterType="kr.co.waglewagle.domain.ReportsVO" resultType="int">
		SELECT count(*) FROM wagle.auctions_ing WHERE goods_id = #{goods_id};
	</select>
	
	<select id="checkReport" parameterType="kr.co.waglewagle.domain.ReportsVO" resultType="int">
		SELECT count(*) FROM wagle.reports WHERE goods_id = #{goods_id};
	</select>
	
	<insert id="saveReport" parameterType="kr.co.waglewagle.domain.ReportsVO">
		INSERT INTO wagle.reports (
			reports_type, users_id, goods_id, reports_content
		) VALUES (
			1, #{users_id}, #{goods_id}, #{reports_content}
		) 
	</insert>
</mapper>